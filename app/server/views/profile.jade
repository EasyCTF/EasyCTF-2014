extends layout

block content
	div(class='wrapper')
		div(class='main')
			section(id='page1')
				div(class='page-container')
					if team
						div <!-- #{team._id} -->
						div(class='page-header')
							table(style='width:100%;')
								tr
									td
										h1 <b>#{team.teamname}</b>
									if (logged)
										td(style='text-align:right;')
											a(href='/settings') Account Settings &raquo;
						div.wrapper
							div.page-header
								h2 Profile
							div.container.well
								div.form-group
									b.col-lg-2 Affiliation
									p.col-lg-10 #{team.school}
							div.page-header
								h2 Statistics
							div.container.well
								div.form-group
									b.col-lg-2 Total Score
									p.col-lg-10 #{team.pointDisplay}
								div.form-group
									b.col-lg-2 Rank
									- var i = 0;
									- var everyone = team.group == 3;
									- each user in users
										- if (everyone || user.group == 1)
											- i += 1;
										if (user._id.toString() == team._id.toString())
											p.col-lg-10 #{i}
											- break;
							div.page-header
								h2 Solves
							div.container
								table.table.table-striped.table-hover
									thead
										th Problem
										th Points
									- each problem in problems
										tr
											td #{problem.title}
											td #{problem.value}
					else
						div(class='alert alert-danger').
							<b>Error:</b> No profile found here.